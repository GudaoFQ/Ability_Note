幂等性：对同一个系统，使用同样的条件，一次请求和重复的多次请求对系统资源的影响是一致的

### 方法一：activemq：
1. mq方法中可以通过getJMSMessageID()方法获取activemq的全局id，然后将全局id存储到缓存中去（redis等实现），然后每次消费都查看下是否有相同的id；其他的mq也适合这种方法，只是mq能直接有方法获取到他的全局id

2. 通过trycatch来捕获代码中执行过程的逻辑异常，将有异常的消息，在catch模块中处理，可以存储到数据库中，然后用定时任务实现错误消息的重新发送（activemq中）

### 方法二：
1. 将消费的消息id存储到数据库，并将数据库中的这个字段设置为唯一，如果出现重复的id，存储到数据库，就会抛出异常
