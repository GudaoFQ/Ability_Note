### 类与类之间的关系
```shell
介绍：
虚线箭头指向依赖；
实线箭头指向关联；
虚线三角指向接口；
实线三角指向父类；
空心菱形能分离而独立存在，是聚合；
实心菱形精密关联不可分，是组合；
```
![uml-1602658854.jpg](../resource/uml/uml-1602658854.jpg)

#### 泛化关系：
> 泛化(generalization)：表示is-a的关系，是对象之间耦合度最大的一种关系，子类继承父类的所有细节。直接使用语言中的继承表达。在类图中使用带三角箭头的实线表示，箭头从子类指向父类。<br>
> (is a: Cat is a Animal→继承)【类和类的继承、接口和接口的继承】
* 类的泛化关系【中间使用实线空心箭头】<br>
![uml-1602656865](../resource/uml/uml-1602656865.png)

#### 实现关系：
> 实现（Realization）:在类图中就是接口和实现的关系。这个没什么好讲的。在类图中使用带三角箭头的虚线表示，箭头从实现类指向接口。<br>
> (like a : Cooker like a FoodMenu)
* 中间使用虚线空心箭头<br>
![uml-1602657031](../resource/uml/uml-1602657031.png)
> 接口的显示方式修改<br>
![uml-1602657210](../resource/uml/uml-1602657210.png)
> 接口的返回值类型显示修改<br>
![uml-1602657274](../resource/uml/uml-1602657274.png)

#### 关联关系：
> (has a : Programmerhas a Computer)
* 中间使用实线箭头表示<br>
![uml-1602657371](../resource/uml/uml-1602657371.png)
> 操作说明<br>
![uml-1602657499](../resource/uml/uml-1602657499.png)


#### 自关联：
> 关联(Association) : 对象之间一种引用关系，比如客户类与订单类之间的关系。这种关系通常使用类的属性表达。关联又分为一般关联、聚合关联与组合关联。后两种在后面分析。在类图使用带箭头的实线表示，箭头从使用类指向被关联的类。可以是单向和双向。
##### 单向关联
> 操作说明<br>
![uml-1602657600](../resource/uml/uml-1602657600.png)
![uml-1602657681](../resource/uml/uml-1602657681.png)
![uml-1602657736](../resource/uml/uml-1602657736.png)
##### 双向关联
> 操作说明<br>
![uml-1602657829](../resource/uml/uml-1602657829.png)
去掉就不会出现箭头<br>
![uml-1602657899](../resource/uml/uml-1602657899.png)


#### 聚合关系：
> 聚合(Aggregation) : 表示has-a的关系，是一种不稳定的包含关系。较强于一般关联,有整体与局部的关系,并且没有了整体,局部也可单独存在。如公司和员工的关系，公司包含员工，但如果公司倒闭，员工依然可以换公司。在类图使用空心的菱形表示，菱形从局部指向整体。<br>
> 聚合关系描述的是整体和部分的关系,聚合关系是比较特殊的关联关系,比如:一个教室当中有多个学生,教室和学生之间的关系就是整体和部分的关系,在聚合关系中,整体的生命周期不会决定部分的生命周期,例如:教室没了,学生还在,或者说学生走了,教室还在。
* 中间使用实线空心菱形<br>
![uml-1602658077](../resource/uml/uml-1602658077.png)
> 操作说明<br>
![uml-1602658189](../resource/uml/uml-1602658189.png)
![uml-1602658237](../resource/uml/uml-1602658237.png)
![uml-1602658271](../resource/uml/uml-1602658271.png)

#### 组合关系：
> 组合(Composition) : 表示contains-a的关系，是一种强烈的包含关系。组合类负责被组合类的生命周期。是一种更强的聚合关系。部分不能脱离整体存在。如公司和部门的关系，没有了公司，部门也不能存在了；调查问卷中问题和选项的关系；订单和订单选项的关系。在类图使用实心的菱形表示，菱形从局部指向整体。<br>
> 组合关系可以看做是一种特殊的聚合关系,整体的生命周期决定部分的生命周期,部分是依附在整体上面的,部分离开了整体是无法存活的
* 中间使用实线实心菱形<br>
![uml-1602658381](../resource/uml/uml-1602658381.png)
> 操作说明<br>
![uml-1602658415](../resource/uml/uml-1602658415.png)
![uml-1602658451](../resource/uml/uml-1602658451.png)

#### 依赖关系：
> 依赖(Dependency)：对象之间最弱的一种关联方式，是临时性的关联。代码中一般指由局部变量、函数参数、返回值建立的对于其他对象的调用关系。一个类调用被依赖类中的某些方法而得以完成这个类的一些职责。在类图使用带箭头的虚线表示，箭头从使用类指向被依赖的类。
* 中间使用虚线箭头<br>
![uml-1602658528](../resource/uml/uml-1602658528.png)

#### 多重性：
> 多重性(Multiplicity) : 通常在关联、聚合、组合中使用。就是代表有多少个关联对象存在。使用数字..星号（数字）表示。如下图，一个割接通知可以关联0个到N个故障单。
![uml-1602659636](../resource/uml/uml-1602659636.jpg)

#### 聚合和组合的区别：
**这两个比较难理解，重点说一下。聚合和组合的区别在于：聚合关系是“has-a”关系，组合关系是“contains-a”关系；聚合关系表示整体与部分的关系比较弱，而组合比较强；聚合关系中代表部分事物的对象与代表聚合事物的对象的生存期无关，一旦删除了聚合对象不一定就删除了代表部分事物的对象。组合中一旦删除了组合对象，同时也就删除了代表部分事物的对象。**

#### 实例分析：
> 联通客户响应OSS。系统有故障单、业务开通、资源核查、割接、业务重保、网络品质性能等功能模块。现在我们抽出部分需求做为例子讲解。

![uml-1602659786](../resource/uml/uml-1602659786.jpg)
1. 通知分为一般通知、割接通知、重保通知。这个是继承关系。
2. NoticeService和实现类NoticeServiceImpl是实现关系。
3. NoticeServiceImpl通过save方法的参数引用Notice,是依赖关系。同时调用了BaseDao完成功能，也是依赖关系。
4. 割接通知和故障单之间通过中间类(通知电路)关联，是一般关联。
5. 重保通知和预案库间是聚合关系。因为预案库可以事先录入，和重保通知没有必然联系，可以独立存在。在系统中是手工从列表中选择。删除重保通知，不影响预案。
6. 割接通知和需求单之间是聚合关系。同理，需求单可以独立于割接通知存在。也就是说删除割接通知，不影响需求单。
7. 通知和回复是组合关系。因为回复不能独立于通知存在。也就是说删除通知，该条通知对应的回复也要级联删除。
经过以上的分析，相信大家对类的关系已经有比较好的理解了。大家有什么其它想法或好的见解，欢迎拍砖。

> PS：还是那句话：以上类图用Enterprise Architect 7.5所画，在此推荐一下EA,非常不错。可以替代Visio和Rose了。Visio功能不够强大，Rose太重。唯有EA比较合适。 
